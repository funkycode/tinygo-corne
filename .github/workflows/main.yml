name: build
run-name: Build fw
on:
  push:
    branches:
    - main
    - 'releases/**'
jobs:
  # checkounte:
  #   runs-on: ubuntu-latest
  #   container:
  #     volumes:
  #       - /src:/home/github
  #   steps:
  #     - uses: actions/checkout@v4
  build-left-side:
    runs-on: ubuntu-latest
    container:
      image: tinygo/tinygo:0.30.0
      options: --user root
      env:
        PATH: "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/tinygo/bin:/usr/local/go/bin"
        GITHUB_WORKSPACE: "/src"
      # volumes:
      #   - /src:/home/github
    steps:
      - uses: actions/checkout@v4
      - run: cd $GITHUB_WORKSPACE && ls -l 
      - run: cd $GITHUB_WORKSPACE && tinygo build -target nicenano -size short -o corne_left_nano.uf2 github.com/funkycode/tinygo-corne/nicenano/left

